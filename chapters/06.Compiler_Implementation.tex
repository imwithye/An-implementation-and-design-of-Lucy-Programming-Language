\chapter{Compiler Implementation}
Lucy is a dynamic language with static type checking. The Lucy compiler compiles Lucy codes to Lucy X assembly codes. It translates the source codes to Lucy X assembly module object and serializes the object to a binary file. The following sections describe the compilation pipeline. In the first stages, the scanner reads in source codes and produces tokens to next stage. In the second section, we will discuss the details of the the syntax analyzer. The syntax analyzer produces an abstract syntax tree which will be validated by the semantic analyzer. In the last part of this chapter, we will discuss the implementation of the static type checking system.


\section{Lexical Analysis}
Mauris ante enim, ultrices vitae molestie eget, tempus sed dolor. Sed vitae mi lectus. Aenean condimentum rutrum sodales. Sed efficitur leo tristique erat faucibus volutpat. Proin rhoncus ante dolor, non egestas libero tempor eu. Proin auctor convallis ex, et euismod nisl maximus eget. Sed non lacus nec elit finibus dictum in id tortor. Nulla eu interdum dolor, et viverra felis. Quisque nisi urna, ornare ac augue vel, tincidunt euismod magna. Pellentesque fringilla nisl quis ante lobortis, id mollis sem volutpat. Fusce id gravida turpis. Aliquam vitae risus lectus.
\begin{lstlisting}
  <YYINITIAL> {
      [\r\n]+     { return token(Terminals.STMT_TAIL); }

      "package"   { return token(Terminals.PACKAGE); }
      "import"    { return token(Terminals.IMPORT); }
      "var"       { return token(Terminals.VAR); }
      "func"      { return token(Terminals.FUNC); }
      "return"    { return token(Terminals.RETURN); }
      "if"        { return token(Terminals.IF); }
      [\r\n]*"else"      { return token(Terminals.ELSE); }
      "while"     { return token(Terminals.WHILE); }
      ...
  }
\end{lstlisting}
Integer consectetur ullamcorper congue. Maecenas pulvinar erat elit, ut fringilla ligula imperdiet quis. Nunc sit amet justo justo. Suspendisse finibus augue sit amet suscipit porta. Nullam at blandit mi, eget faucibus sem. Donec facilisis quam ut lectus pharetra, vitae semper nisl tempus. Morbi vitae elementum sapien, et facilisis dui. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Nam sit amet risus a orci tincidunt imperdiet sed viverra tortor. Donec fringilla arcu venenatis, ullamcorper nulla vitae, tristique erat. Vestibulum mollis eros sodales dolor ullamcorper euismod. Integer risus libero, semper sed purus a, vestibulum aliquam lorem. Phasellus at fringilla sem. Sed laoreet augue sapien, vitae feugiat dui ultrices in.


\section{Syntax Analysis}
Phasellus rutrum metus id urna eleifend, quis eleifend lorem varius. Aliquam erat volutpat. Ut lectus nunc, rutrum placerat nisi ut, rhoncus placerat risus. Nunc cursus ut nunc eget commodo. Sed rutrum ipsum neque, vel faucibus urna pellentesque vel. Etiam tincidunt egestas feugiat. Fusce dictum convallis nisi non maximus. Fusce ut nunc vel urna luctus vehicula. Vivamus magna orci, feugiat quis mauris ut, gravida egestas tortor.
Phasellus viverra mollis congue. Aenean congue eleifend purus, in accumsan arcu mollis eu. Nulla maximus rhoncus orci et consequat. Suspendisse porta rutrum lorem. Proin in scelerisque urna, ut pharetra ipsum. Aenean laoreet aliquet dui, a laoreet est euismod nec. Nam tempus, ex a ornare tincidunt, nibh ligula porta lorem, sed porta neque tortor quis ex. Suspendisse vel ligula eros. Suspendisse luctus quis arcu quis aliquam. Aliquam velit elit, consectetur vitae neque non, bibendum imperdiet mauris.


\section{Semantic Analysis}
Proin consectetur, ante nec euismod mattis, odio dolor gravida felis, at lacinia arcu odio a dolor. Nulla pharetra dapibus lorem et eleifend. Curabitur rutrum, risus in semper congue, tellus nibh dictum purus, quis consequat lorem risus non augue. Fusce non turpis id nisl efficitur imperdiet a sit amet elit. Integer non enim sed mi condimentum feugiat. Mauris in mi in lorem mollis placerat. Nunc interdum mollis facilisis. Aliquam erat volutpat. Phasellus et erat et odio gravida porta vel a odio. Donec eleifend orci vitae elit finibus vehicula. Integer sit amet eleifend felis.


\section{Code Generation}
Ut cursus eleifend pulvinar. Curabitur posuere eros a justo tristique aliquet. Nullam luctus ante scelerisque dolor ultricies, et porta dolor tincidunt. Cras tristique augue lorem, vel volutpat libero venenatis et. Donec sollicitudin felis eu tortor vulputate semper. Aliquam dictum libero et ipsum accumsan, eget commodo quam pellentesque. Suspendisse mattis luctus diam, vel viverra massa aliquam consequat. Vivamus aliquam nisi tempus massa maximus rhoncus. Curabitur urna tellus, tristique sed ullamcorper at, dictum ac risus. Curabitur ornare gravida tortor a cursus.
Quisque suscipit neque eu magna dapibus, sit amet dictum leo vestibulum. Curabitur lobortis ex ac sem porta scelerisque. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Integer dignissim tortor eu sem mollis ultrices. Donec at sodales urna. Cras accumsan ullamcorper arcu eget tempor. Nulla tristique magna at ullamcorper interdum. Sed ac ipsum fermentum, lacinia urna sit amet, laoreet magna. Sed vehicula, sem sit amet lacinia cursus, mi nisi interdum arcu, vitae laoreet augue mauris in elit. Aenean malesuada eget quam ac ullamcorper. Interdum et malesuada fames ac ante ipsum primis in faucibus. Praesent at mollis risus. Nam dignissim accumsan nisl non commodo.
