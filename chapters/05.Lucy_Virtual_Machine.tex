%!TEX root = ../dissertation.tex
\begin{savequote}[75mm]
If a machine is expected to be infallible, it cannot also be intelligent.
\qauthor{Alan Turing}
\end{savequote}

\chapter{Lucy Virtual Machine}
Lucy Programming Language(or Lucy) is a dynamic language which runs the code over Lucy Virtual Machine. The goal of the Lucy Virtual Machine is to provide a generic platform so that the source codes of Lucy can be interpreted over it. Lucy Virtual Machine is a single thread virtual machine and driven by a small set of instructions, Lucy X assembly language. Moreover, the Lucy Virtual machine provides unlimited registers, routine scope isolation and dynamic type checking. In this chapter, we will discuss the design of the Lucy virtual machine. First we will discuss the the goal of Lucy virtual machine and the design principle. Then we will compare the Lucy virtual machine with the Java virtual machine. In the second part of this chapter, we will discuss how the register and scope isolation works and in the last part of this chapter, we will discuss how modules and routines are executed by the virtual machine.

\section{Overview}
The Lucy virtual machine(Lucy VM) is the a low level virtual machine which is driven by Lucy X assembly languages. Lucy virtual machine is an open protocol which can be implemented in any programming language. Lucy VM tends to be a purely logical system. Lucy VM does not simulate cache and main memory, instead, it provides unlimited registers to hold values and unlimited stack memory to perform function calls. Registers in Lucy VM stores a value object which can be number, string, boolean, array or none. The type of the value will be checked during run time to ensure the correctness of every operation.

\subsection{Goal of Lucy Virtual Machine}
Lucy virtual machine is a general purpose virtual machine, and it simulates the real computer in an abstract level. Lucy VM tends to be as simple as possible. The goal of Lucy VM is to provide a completed virtual system without increasing the complexity. Lucy VM is designed for Lucy X and driven by Lucy X only, which is a good start point for those who are interested in compiler techniques.

\subsection{Differences between Virtual Machine}
Duis interdum, dolor viverra placerat scelerisque, dui sem sodales ex, feugiat vehicula augue quam sit amet justo. Quisque rutrum elementum efficitur. Aliquam turpis justo, posuere eget sagittis at, vehicula in felis. Ut a dui non magna efficitur ullamcorper non et sapien. Integer dui neque, egestas posuere sem vestibulum, mollis facilisis justo. In gravida, leo nec tincidunt sollicitudin, ligula ligula dignissim nibh, et accumsan justo tellus et mi.


\section{Register and Its Scopes}
Praesent et purus egestas, malesuada risus varius, accumsan massa. Integer ac dui tempor, pretium lectus id, sollicitudin libero. Aliquam tempus elit nec nulla ultricies gravida. Sed eget ante pulvinar erat lobortis fermentum. Pellentesque rhoncus sapien eget nunc commodo mattis. Nulla tempor, neque nec ornare porttitor, nibh tellus dictum dui, in iaculis ante velit eu nisl. Etiam blandit pharetra lorem, eget scelerisque turpis laoreet vitae. Vivamus euismod tortor tortor, luctus viverra lorem eleifend at. Vestibulum eget dapibus dolor.

Mauris a tellus nunc. Suspendisse mattis scelerisque ipsum vel luctus. Donec mollis posuere erat, vitae blandit sapien maximus at. Donec eros diam, tristique a mauris eget, venenatis scelerisque dui. Sed ac rutrum nulla. Donec mattis libero sit amet facilisis gravida. Cras ullamcorper quam id sapien gravida condimentum. Praesent pellentesque risus in mi efficitur, id mollis mauris posuere. Quisque eget ex nec leo pretium pretium quis vel nisi. Phasellus ornare egestas sapien quis pharetra. In vel mi ac diam placerat ultricies. Duis viverra massa id augue convallis vestibulum fermentum a diam. Maecenas nec auctor risus, vel viverra turpis.

Nullam diam mauris, placerat nec sodales non, euismod eget magna. Mauris non egestas lectus. Fusce facilisis leo et aliquam placerat. In congue, mi vitae dignissim mollis, odio neque viverra turpis, vitae feugiat lectus ex ut massa. Duis suscipit vehicula lectus sed porta. In ultricies elementum enim eu eleifend. Curabitur in ultricies sapien. Phasellus blandit justo ac justo convallis semper. In sit amet ex turpis. Donec elementum pretium purus ac dignissim.

Curabitur dignissim cursus elementum. Nullam commodo dui quam, in fringilla purus cursus at. Vestibulum nisl urna, scelerisque non risus eget, mollis pharetra odio. Fusce vestibulum ex nisi, sit amet tincidunt lacus rutrum vitae. Mauris ut lobortis risus. Etiam vel porta diam, tincidunt consectetur dui. Ut vel orci a nulla egestas aliquet. Donec a orci non tortor vehicula semper sed vitae eros. Nam vel odio nisl. Nam odio velit, tincidunt nec efficitur ac, vestibulum eget urna.


\section{Routine Execution}
Curabitur feugiat consectetur venenatis. Praesent ornare tellus tristique dictum suscipit. Donec blandit sodales leo, sed tempor turpis tristique at. Aenean convallis eros lacus. Maecenas commodo sem convallis, mollis enim quis, molestie est. Integer id condimentum arcu. In condimentum non diam nec aliquet. Sed volutpat quam at purus porttitor, at faucibus ante viverra. Nunc et arcu ac nunc tempus mollis eget at sem.

Nullam euismod a ipsum feugiat maximus. Maecenas vehicula commodo lacinia. Donec nec tincidunt dolor. Donec lectus mauris, molestie in ipsum at, maximus fringilla ligula. Fusce consequat mi odio, nec malesuada ante tristique a. In hac habitasse platea dictumst. Nulla efficitur malesuada diam vel consequat. Pellentesque augue nisi, ornare et eros sed, lobortis condimentum dui. Ut eu placerat sem, vitae viverra urna. Maecenas rutrum odio et luctus cursus. Sed blandit nisi id leo fermentum blandit. Phasellus convallis vulputate turpis, pretium mattis nibh suscipit vitae. Nullam porta ligula eu leo commodo, vitae blandit lorem efficitur. Nunc pellentesque sagittis dolor maximus feugiat. Phasellus luctus turpis sem, at lacinia odio ullamcorper eu. Praesent tellus odio, condimentum non vehicula id, consectetur ut nunc.


\section{Module Execution}
Curabitur dictum, ex quis tristique euismod, nibh libero tempus augue, et tempus risus arcu sit amet ante. Quisque venenatis, tortor lacinia pellentesque auctor, mi felis pretium lectus, eget feugiat magna ante sed lacus. Nullam in aliquam urna. Etiam et ultricies purus. Integer quis efficitur urna. Sed faucibus elit vitae massa aliquam venenatis. Pellentesque imperdiet elit eget neque feugiat pretium. Aenean et nisl sem. Sed quam neque, euismod posuere pretium quis, tincidunt ac magna. Nunc mattis libero tortor, vitae rhoncus dolor cursus in. Cras consequat non mi sed scelerisque. Donec vitae neque at mauris ullamcorper pretium. Aenean sit amet venenatis leo. Fusce id risus eget quam faucibus lobortis eget quis dui. Pellentesque a massa augue. Nulla feugiat, nisi id maximus porttitor, odio lectus rhoncus ipsum, ut placerat nibh mi vitae magna.
